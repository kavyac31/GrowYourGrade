<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignUp</title>
    <link rel="icon" href="resorces/user(1).png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
       @media screen and (max-width: 768px) {
    .container {
        flex-direction: column;
        align-items: center; /* Center items vertically */
    }

    .signup-form-container {
        width: 90%;
        max-width: 100%;
        margin-top: 20px;
    }

    .input-box {
        flex-direction: column; /* Stack label and input vertically */
    }

    .input-box label {
        width: 100%; /* Full width for label */
        margin-bottom: 5px; /* Adjust spacing */
    }

    .input-box input {
        width: 100%; /* Full width for input */
    }

    .input-box img {
        position: static; /* Reset position for the eye icon */
        margin-left: 5px; /* Adjust margin */
        margin-top: 5px; /* Adjust margin */
    }

    .button {
        flex-direction: column; /* Stack buttons vertically */
        margin-top: 20px; /* Adjust top margin */
    }

    .button .b {
        width: 100%; /* Full width for buttons */
        margin-bottom: 10px; /* Adjust spacing */
    }
}
    </style>
</head>
<body>
  <div class="border">
    <div class="container">
        <img src="resorces/ed.jpg" alt="Education Image">
        <div class="signup-form-container">
            <h1>Welcome <i class="fa-solid fa-user fa-2xl"></i></h1>
            <form id="signup_form"> <!-- Add form element with ID -->
                <div class="input-box">
                    <label for="Sign_in_username">Username:</label>
                    <input type="text" name="Sign_in_username" id="Sign_in_username" required>
                </div>
                <div class="input-box">
                    <label for="sign_in_password">Password:</label>
                    <input type="password" name="sign_in_password" id="sign_in_password" required>
                    <img id="eyeicon" src="resorces/eye-close.png" alt="Toggle Password Visibility">
                </div>
                <div class="input-box">
                    <label for="sign_in_Cpassword">Confirm Password:</label>
                    <input type="password" name="sign_in_password" id="sign_in_Cpassword" required>
                    <img id="eyeicon1" src="resorces/eye-close.png" alt="Toggle Password Visibility">
                </div>
                <div class="button">
                    <button class="b" type="submit">Register</button>
                    <a class="b" href="login.html">Sign In</a>
                </div>
            </form>
        </div>
    </div>
</div>

    <script>
        let eyeicon = document.getElementById("eyeicon");
        let password = document.getElementById("sign_in_password");

        eyeicon.onclick = function () {
            if (password.type == "password") {
                password.type = "text";
                eyeicon.src = "resorces/eye-open.png";
            } else {
                password.type = "password";
                eyeicon.src = "resorces/eye-close.png";
            }
        }

        let eyeicon1 = document.getElementById("eyeicon1");
        let Cpassword = document.getElementById("sign_in_Cpassword");
        eyeicon1.onclick = function () {
            if (Cpassword.type == "password") {
                Cpassword.type = "text";
                eyeicon1.src = "resorces/eye-open.png";
            } else {
                Cpassword.type = "password";
                eyeicon1.src = "resorces/eye-close.png";
            }
        }

        function submitHandler(e) {
            e.preventDefault();
            let username = document.getElementById("Sign_in_username").value;
            let password = document.getElementById("sign_in_password").value;
            let confirm_password = document.getElementById("sign_in_Cpassword").value;
            if (password != confirm_password) {
                alert("Passwords do not match");
            } else {
                let authData = JSON.parse(localStorage.getItem('auth')) || [];
                let userfound = false;
                for (let ele of authData) {
                    if (username === ele.username) {
                        userfound = true;
                        alert("Username already exists. Please try another username.");
                    }
                }
                if (!userfound) {
                    const userDetail = { 'username': username, 'password': password };
                    authData.push(userDetail);
                    localStorage.setItem('auth', JSON.stringify(authData));
                    alert("Registration successful");
                }
            }
        }
        document.getElementById("signup_form").addEventListener("submit", (e) => submitHandler(e));
    </script>
</body>
</html>
